{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "LumosScript",
  "fileTypes": [
    "lms"
  ],
  "scopeName": "source.lms",
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#strings"
    },
    {
      "include": "#numbers"
    },
    {
      "include": "#decorators"
    },
    {
      "include": "#keywords"
    },
    {
      "include": "#types"
    },
    {
      "include": "#functions"
    },
    {
      "include": "#operators"
    }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.double-slash.lms",
          "match": "//[^\\n]*"
        },
        {
          "name": "comment.block.lms",
          "begin": "/\\*",
          "end": "\\*/"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.single.lms",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.lms",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.double.lms",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.lms",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.template.lms",
          "begin": "`",
          "beginCaptures": {
            "0": {
              "name": "punctuation.definition.string.begin.lms"
            }
          },
          "end": "`",
          "endCaptures": {
            "0": {
              "name": "punctuation.definition.string.end.lms"
            }
          },
          "patterns": [
            {
              "name": "constant.character.escape.lms",
              "match": "\\\\."
            },
            {
              "begin": "\\$\\{",
              "beginCaptures": {
                "0": {
                  "name": "punctuation.section.embedded.begin.lms"
                }
              },
              "end": "\\}",
              "endCaptures": {
                "0": {
                  "name": "punctuation.section.embedded.end.lms"
                }
              },
              "patterns": [
                {
                  "include": "#comments"
                },
                {
                  "include": "#strings"
                },
                {
                  "include": "#numbers"
                },
                {
                  "include": "#keywords"
                },
                {
                  "include": "#types"
                },
                {
                  "include": "#functions"
                },
                {
                  "include": "#operators"
                }
              ]
            }
          ]
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.hex.lms",
          "match": "\\b0[xX][0-9a-fA-F_]+n?\\b"
        },
        {
          "name": "constant.numeric.binary.lms",
          "match": "\\b0[bB][01_]+n?\\b"
        },
        {
          "name": "constant.numeric.octal.lms",
          "match": "\\b0[oO][0-7_]+n?\\b"
        },
        {
          "name": "constant.numeric.decimal.lms",
          "match": "\\b(?:\\d+\\.?\\d*|\\.\\d+)(?:[eE][+-]?\\d+)?n?\\b"
        }
      ]
    },
    "decorators": {
      "patterns": [
        {
          "name": "meta.annotation.decorator.lms",
          "match": "@[A-Za-z_$][A-Za-z0-9_$]*"
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.lms",
          "match": "\\b(if|else|for|while|do|switch|case|default|break|continue|return|try|catch|finally|throw|yield|await)\\b"
        },
        {
          "name": "keyword.declaration.lms",
          "match": "\\b(function|class|interface|type|enum|namespace|module|import|export|from|as|extends|implements|new|const|let|var)\\b"
        },
        {
          "name": "keyword.modifier.lms",
          "match": "\\b(public|private|protected|readonly|static|abstract|declare|override)\\b"
        },
        {
          "name": "keyword.operator.word.lms",
          "match": "\\b(keyof|typeof|instanceof|in|of)\\b"
        },
        {
          "name": "constant.language.lms",
          "match": "\\b(true|false|null|undefined|NaN|Infinity)\\b"
        },
        {
          "name": "variable.language.lms",
          "match": "\\b(this|super)\\b"
        }
      ]
    },
    "types": {
      "patterns": [
        {
          "name": "support.type.builtin.lms",
          "match": "\\b(string|number|boolean|any|unknown|never|void|object|bigint|symbol)\\b"
        },
        {
          "name": "support.class.builtin.lms",
          "match": "\\b(Array|Map|Set|WeakMap|WeakSet|Date|RegExp|Promise|Record|Partial|Readonly|Pick|Omit|Required)\\b"
        }
      ]
    },
    "functions": {
      "patterns": [
        {
          "name": "entity.name.function.lms",
          "match": "\\b[A-Za-z_$][A-Za-z0-9_$]*\\s*(?=\\()"
        },
        {
          "name": "entity.name.type.class.lms",
          "match": "\\bclass\\s+([A-Za-z_$][A-Za-z0-9_$]*)\\b"
        },
        {
          "name": "entity.name.type.interface.lms",
          "match": "\\binterface\\s+([A-Za-z_$][A-Za-z0-9_$]*)\\b"
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.lms",
          "match": "(=>|\\+\\+|--|\\*\\*|\\+|\\-|\\*|/|%|==|===|!=|!==|<=|>=|<|>|=|\\+=|-=|\\*=|/=|%=|<<|>>|>>>|&|\\||\\^|~|&&|\\|\\||\\?\\?|!|\\?|:|\\.|\\.\\.\\.)"
        },
        {
          "name": "punctuation.section.braces.begin.lms",
          "match": "\\{"
        },
        {
          "name": "punctuation.section.braces.end.lms",
          "match": "\\}"
        },
        {
          "name": "punctuation.section.parens.begin.lms",
          "match": "\\("
        },
        {
          "name": "punctuation.section.parens.end.lms",
          "match": "\\)"
        },
        {
          "name": "punctuation.separator.comma.lms",
          "match": ","
        },
        {
          "name": "punctuation.terminator.statement.lms",
          "match": ";"
        }
      ]
    }
  }
}
